!function(r,a){"use strict";var o=r(document),i=r(a),n=r("body"),s=(r("#wpadminbar"),r(".click-capture")),c=r(".header"),l=r("#wrapper"),d=r("#mobile-menu"),t=(r(".mobile-toggle-holder"),t||{});t={thb_scrolls:{},h_offset:0,init:function(){var e,a=this;!function(){for(e in a){var t;!a.hasOwnProperty(e)||void 0!==(t=a[e]).selector&&void 0!==t.init&&0<r(t.selector).length&&t.init()}}()},header:{selector:".header",init:function(){var t=this,e=r(t.selector),a=r(".subheader").outerHeight()||0;Headroom.cutsTheMustard&&e.headroom({offset:100,onTop:function(){r(".header-wrapper").css("height",function(){return e.outerHeight(!0)+"px"})}}),i.on("scroll.fixed-header",function(){t.scroll(a)}).trigger("scroll.fixed-header")},scroll:function(t){r(this.selector);var e="fixed";t<i.scrollTop()?c.hasClass(e)||(c.addClass(e),n.addClass("header-sticky")):c.hasClass(e)&&(c.removeClass(e),n.removeClass("header-sticky"))}},fullMenu:{selector:".thb-full-menu, .thb-category-dropdown-parent.active",init:function(){r(this.selector).find(".menu-item-has-children").each(function(){var t=r(this),e=t.find(">.sub-menu");t.hoverIntent(function(){t.addClass("sfHover"),e.fadeIn()},function(){t.removeClass("sfHover"),e.fadeOut()})})}},mobileMenu:{selector:"#mobile-menu",init:function(){var t=r(this.selector);("thb-submenu"===t.data("behaviour")?t.find(".thb-mobile-menu li.menu-item-has-children>a"):t.find(".thb-mobile-menu li.menu-item-has-children>a>span")).on("click",function(t){var e=r(this),a=e.parents("a").length?e.parents("a"):e,e=a.next(".sub-menu");a.hasClass("active")?(a.removeClass("active"),e.slideUp("200")):(a.addClass("active"),e.slideDown("200")),t.stopPropagation(),t.preventDefault()})}},shopSidebar:{selector:".widget_tag_cloud .tag-link-count",init:function(){r(this.selector).each(function(){var t=(t=r.trim(r(this).html())).substring(1,t.length-1);r(this).html(t)})}},shop_toggle:{selector:"#thb-shop-filters",init:function(){var t=r(this.selector),e=r("#side-filters"),e=r(".thb-close",e);t.add("#thb-shop-filters-main").on("click",function(){return l.addClass("open-cc"),l.addClass("open-filters"),!1}),o.on("keyup",function(t){27===t.keyCode&&(l.removeClass("open-cc"),l.removeClass("open-filters"))}),s.add(e).on("click",function(){return l.removeClass("open-cc"),l.removeClass("open-filters"),!1})}},mobile_toggle:{selector:".mobile-toggle-holder",init:function(){var t=r(this.selector),e=r(".thb-close",d);t.on("click",function(){return l.addClass("open-cc"),l.addClass("open-menu"),!1}),o.on("keyup",function(t){27===t.keyCode&&(l.removeClass("open-cc"),l.removeClass("open-menu"))}),s.add(e).on("click",function(){return l.removeClass("open-cc"),l.removeClass("open-menu"),!1})}},quickCart:{selector:".thb-quick-cart",init:function(){var t=r(this.selector),e=r("#side-cart"),e=r(".thb-close",e);t.on("click",function(){return themeajax.settings.is_cart||themeajax.settings.is_checkout?a.location.href=themeajax.settings.cart_url:(l.addClass("open-cc"),l.addClass("open-cart")),!1}),o.on("keyup",function(t){27===t.keyCode&&(l.removeClass("open-cc"),l.removeClass("open-cart"))}),s.add(e).on("click",function(){return l.removeClass("open-cc"),l.removeClass("open-cart"),!1})}},productStyle3:{selector:".woocommerce-product-gallery",init:function(){var t=r(this.selector),o=r('<ul class="slides" />').appendTo(t),t=r(".woocommerce-product-gallery__wrapper",t),t=r(".woocommerce-product-gallery__image",t);r("#wpadminbar").outerHeight();t.each(function(t,e){var a=r(this),a=r("<img/>").attr("src",a.attr("data-thumb"));r('<li class="woocommerce-product-gallery__image" />').append(a).appendTo(o)}),o.wrap('<div class="product-thumbnails" id="product-thumbnails" />'),r(".product-thumbnails").flexslider({animation:"slide",controlNav:!1,directionNav:!1,animationLoop:!1,slideshow:!1,itemMargin:10,itemWidth:112,maxItems:themeajax.settings.thumbnail_columns,asNavFor:".woocommerce-product-gallery"})}},productAjaxAddtoCart:{selector:".thb-single-product-ajax-on.single-product .product-type-variable form.cart, .thb-single-product-ajax-on.single-product .product-type-simple form.cart",init:function(){var t=r(this.selector),a=r(".single_add_to_cart_button",t);"undefined"!=typeof wc_add_to_cart_params&&"yes"===wc_add_to_cart_params.cart_redirect_after_add||o.on("submit","body.single-product form.cart",function(t){t.preventDefault();var t=r(this),e=a.eq(0).text();a.is(".disabled")||a.is(".wc-variation-selection-needed")||(t={product_id:t.find("[name*='add-to-cart']").val(),product_variation_data:t.serialize()},r.ajax({method:"POST",data:t.product_variation_data,dataType:"html",url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","add-to-cart="+t.product_id+"&thb-ajax-add-to-cart=1"),cache:!1,headers:{"cache-control":"no-cache"},beforeSend:function(){n.trigger("adding_to_cart"),a.addClass("disabled").text(themeajax.l10n.adding_to_cart)},success:function(t){t=r.parseHTML(t),t={".thb-cart-amount":r(t).find(".thb-cart-amount").html(),".thb-cart-count":r(t).find(".thb-cart-count").html(),".thb_prod_ajax_to_cart_notices":r(t).find(".thb_prod_ajax_to_cart_notices").html(),".widget_shopping_cart_content":r(t).find(".widget_shopping_cart_content").html()};r.each(t,function(t,e){r(t).html(e)}),n.trigger("wc_fragments_refreshed"),a.removeClass("disabled").text(e)},error:function(t){n.trigger("wc_fragments_ajax_error"),a.removeClass("disabled").text(e)}}))})}},variations:{selector:"form.variations_form",init:function(){var t=r(this.selector),a=r("p.price",".product-information").eq(0),e=a.html();t.on("show_variation",function(t,e){e.price_html&&a.html(e.price_html)}).on("reset_image",function(){a.html(e)}),t.find(".single_variation").is(":visible")&&t.find(".single_variation .woocommerce-variation-price").html()&&a.html(t.find(".single_variation .woocommerce-variation-price").html())}},quantity:{selector:".quantity:not(.hidden)",init:function(){var t=this;r(t.selector);t.initialize(),n.on("updated_cart_totals",function(){t.initialize()})},initialize:function(){r("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<div class="plus"></div>').prepend('<div class="minus"></div>').end().find('input[type="number"]').attr("type","text"),r(".plus, .minus").on("click",function(){var t=r(this).closest(".quantity").find(".qty"),e=parseFloat(t.val()),a=parseFloat(t.attr("max")),o=parseFloat(t.attr("min")),i=t.attr("step");return e&&""!==e&&"NaN"!==e||(e=0),""!==a&&"NaN"!==a||(a=""),""!==o&&"NaN"!==o||(o=0),"any"!==i&&""!==i&&void 0!==i&&"NaN"!==parseFloat(i)||(i=1),r(this).is(".plus")?a&&(a===e||a<e)?t.val(a):t.val(e+parseFloat(i)):o&&(o===e||e<o)?t.val(o):0<e&&t.val(e-parseFloat(i)),t.trigger("change"),!1})}},shop:{selector:".products .product, .wc-block-grid__products .product",init:function(){var i,n;r(this.selector);r("body").on("adding_to_cart",function(t,e){e&&(i=e.closest(".product"),n=e.text(),e.text(themeajax.l10n.adding_to_cart))}).on("added_to_cart",function(t,e,a,o){o&&o.text(n);o=i.find(".woocommerce-loop-product__title a").text();r(".thb_prod_ajax_to_cart_notices").html('<div class="thb-temp-message">'+o+" "+themeajax.l10n.has_been_added+"</div>")})}},widget_nav_menu:{selector:".widget_nav_menu, .widget_pages, .widget_product_categories",init:function(){r(this.selector).find(".menu-item-has-children, .page_item_has_children, .cat-parent").each(function(){var t=r(this),e=r(">a",t),a=t.find(">.sub-menu, >.children");a.before('<div class="thb-arrow"><i class="thb-icon-down-open-mini"></i></div>'),r(".thb-arrow",t).on("click",function(t){var e=r(this).parents("li");e.hasClass("active")?(e.removeClass("active"),a.slideUp("200")):(e.addClass("active"),a.slideDown("200")),t.stopPropagation(),t.preventDefault()}),"#"===e.attr("href")&&e.on("click",function(t){var e=r(this),a=e.next(".sub-menu");e.hasClass("active")?(e.removeClass("active"),a.slideUp("200")):(e.addClass("active"),a.slideDown("200")),t.preventDefault()})})}},shopSidebar_widgets:{selector:".thb-side-filters .widget",init:function(){r(this.selector).each(function(){var t=r(this).find(">.thb-widget-title");t.append(r("<span/>")).on("click",function(){t.toggleClass("active"),t.next().animate({height:"toggle",opacity:"toggle"},300)})})}},cart_totals:{selector:".woocommerce-cart .cart-collaterals h2",init:function(){r(this.selector).prependTo(".woocommerce-cart .cart-collaterals")}},toTop:{selector:"#scroll_to_top",init:function(){var t=this;r(t.selector).on("click",function(){return r("html, body").animate({scrollTop:0},500),!1}),i.on("scroll",function(){t.control()})},control:function(){var t=r(this.selector);200<i.scrollTop()?t.addClass("active"):t.removeClass("active")}}},r(function(){t.init()})}(jQuery,this);